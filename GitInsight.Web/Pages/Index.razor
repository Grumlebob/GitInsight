@page "/"
@using GitInsight.Web.Services
@using GitInsight.Core
@inject IAnalysisService _analysisService

<PageTitle>Index</PageTitle>

<h1>Welcome!</h1>

<form>
    <input type="text" @bind="@textInput" placeholder="user/GitRepo"/>
</form>
 <button @onclick="FindRepo" >Go</button>

<p role="status" id="consolewriteline">@outputText</p>

@code {
    private string textInput;
    private string outputText;
    private List<CommitsByDateByAuthor> _commitsByAuthors;
    public async Task FindRepo()
    {

        _commitsByAuthors = await _analysisService.GetCommitsByAuthor("repoinsights/" + textInput);
        outputText = _commitsByAuthors.Count.ToString();
    }
    
    private void IncrementCount()
    {
        outputText += "yes";
    }
}








@* <SurveyPrompt Title="How is Blazor working for you?"/> *@
